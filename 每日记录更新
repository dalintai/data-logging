2021-7-8
总计：39.5/56%

研究了下locust的多线程：
分布式进程

       Locust 是由 python 编写的，由于GIL的限制，单进程不能利用CPU多核的优势（实际测试结果也是一样，8核心的虚拟机，只有一核达到了95%以上的使用率，其余7核只围观，不出力）。
所以单台机器上想要尽可能的压榨 CPU，只能开启多进程，一般有多少个核心启多少进程。

单台多进程：

 先启一个 master

locust -f .\baidu.py --host="服务地址" --web-host="127.0.0.1" --master

 再启  slave
 说明：首先要知道负载机是几核，可以从任务管理器看到.

然后不需要指定地址，因为master已经指定了，同时！！网上的博客后面是slave，但新版本已经不用--slave了，而是替换成worker了！
一个命令面板启动一个，

locust -f .\baidu.py --worker

slave 节点启动后，在 locust 监控中能看到

 



